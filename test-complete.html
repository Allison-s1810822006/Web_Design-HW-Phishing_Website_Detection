<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å®Œæ•´å¤–æ›æ¸¬è©¦é é¢</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background: #f5f5f5;
        }
        .test-section {
            background: white;
            margin: 20px 0;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .high-risk {
            background: #ffe6e6;
            border-left: 4px solid #dc3545;
        }
        .medium-risk {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
        }
        .low-risk {
            background: #e6f7ff;
            border-left: 4px solid #007bff;
        }
        .safe {
            background: #e8f5e8;
            border-left: 4px solid #28a745;
        }
        h1 {
            color: #333;
            text-align: center;
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        h2 {
            color: #333;
            margin-top: 0;
        }
        form {
            background: white;
            padding: 15px;
            border-radius: 5px;
            border: 2px solid #ddd;
        }
        input {
            padding: 8px;
            margin: 5px 0;
            border: 1px solid #ddd;
            border-radius: 4px;
            width: 200px;
        }
        button {
            padding: 10px 20px;
            background: #007bff;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            margin: 5px;
        }
        button:hover {
            background: #0056b3;
        }
        .danger-btn {
            background: #dc3545;
        }
        .danger-btn:hover {
            background: #c82333;
        }
        a {
            display: inline-block;
            margin: 5px;
            padding: 8px 12px;
            text-decoration: none;
            border-radius: 4px;
            background: #f8f9fa;
            border: 1px solid #ddd;
        }
        .test-results {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 5px;
            margin: 10px 0;
        }
        .score-display {
            font-size: 18px;
            font-weight: bold;
            text-align: center;
            padding: 10px;
            border-radius: 5px;
            margin: 10px 0;
        }
        .score-high { background: #f8d7da; color: #721c24; }
        .score-medium { background: #fff3cd; color: #856404; }
        .score-low { background: #d1ecf1; color: #0c5460; }
    </style>
</head>
<body>
    <h1>ğŸ” é‡£é­šç¶²ç«™æª¢æ¸¬å™¨å®Œæ•´æ¸¬è©¦é é¢</h1>

    <div class="test-section high-risk">
        <h2>âš ï¸ é«˜é¢¨éšªæ¸¬è©¦å€åŸŸ - HTTP + å¯†ç¢¼æ¬„ä½</h2>
        <p><strong>é¢¨éšªèªªæ˜ï¼š</strong>é€™å€‹é é¢ä½¿ç”¨HTTPå”å®šä¸”åŒ…å«å¯†ç¢¼æ¬„ä½ï¼Œæ‡‰è©²è§¸ç™¼æœ€é«˜ç´šåˆ¥çš„å®‰å…¨è­¦å‘Š</p>
        <form>
            <label>ä½¿ç”¨è€…åç¨±ï¼š</label><br>
            <input type="text" name="username" placeholder="è¼¸å…¥ä½¿ç”¨è€…åç¨±"><br>

            <label>å¯†ç¢¼ï¼š</label><br>
            <input type="password" name="password" placeholder="è¼¸å…¥å¯†ç¢¼"><br>

            <label>ç¢ºèªå¯†ç¢¼ï¼š</label><br>
            <input type="password" name="confirm_password" placeholder="ç¢ºèªå¯†ç¢¼"><br><br>

            <button type="submit" class="danger-btn">ç™»å…¥ (ä¸å®‰å…¨)</button>
        </form>
        <p><em>é æœŸæª¢æ¸¬ï¼šHTTPå”å®š(+20åˆ†) + HTTPä¸Šçš„å¯†ç¢¼æ¬„ä½(+25åˆ†) = 45åˆ†åŸºç¤é¢¨éšª</em></p>
    </div>

    <div class="test-section medium-risk">
        <h2>ğŸš¨ å¯ç–‘é—œéµè©æª¢æ¸¬æ¸¬è©¦</h2>
        <p><strong>ä»¥ä¸‹å…§å®¹åŒ…å«å¤šå€‹é‡£é­šç¶²ç«™å¸¸ç”¨çš„å¯ç–‘é—œéµè©ï¼š</strong></p>
        <div style="background: white; padding: 15px; border-radius: 5px; border: 2px dashed #ffc107;">
            <p>ğŸš¨ <strong>URGENT</strong> - æ‚¨çš„å¸³æˆ¶å³å°‡è¢«æš«åœï¼</p>
            <p>ğŸ“§ è«‹ç«‹å³ <strong>verify</strong> æ‚¨çš„èº«åˆ†è³‡è¨Š</p>
            <p>â›” æ‚¨çš„å¸³æˆ¶å·²è¢« <strong>suspended</strong></p>
            <p>ğŸ‘† <strong>Click here</strong> ç«‹å³è™•ç†é€™å€‹å•é¡Œ</p>
            <p>â° <strong>Act now</strong> - é€™æ˜¯ <strong>limited time</strong> çš„ç‰¹æ®Šå„ªæƒ </p>
            <p>ğŸ‰ æ­å–œæ‚¨æˆç‚ºæˆ‘å€‘çš„ <strong>winner</strong>ï¼</p>
            <p>ğŸ† <strong>Congratulations</strong> æ‚¨ç²å¾—äº†å¤§çï¼</p>
        </div>
        <p><em>é æœŸæª¢æ¸¬ï¼š7å€‹å¯ç–‘é—œéµè© Ã— 5åˆ† = +35åˆ†é¢¨éšª</em></p>
    </div>

    <div class="test-section medium-risk">
        <h2>ğŸ”— ä¸å®‰å…¨é€£çµæª¢æ¸¬æ¸¬è©¦</h2>
        <p><strong>ä»¥ä¸‹é€£çµä½¿ç”¨HTTPå”å®šï¼ˆæ‡‰è©²è¢«è‡ªå‹•æ¨™è¨˜ç‚ºç´…è‰²é‚Šæ¡†ï¼‰ï¼š</strong></p>
        <div style="background: white; padding: 15px; border-radius: 5px;">
            <a href="http://example.com/login">HTTPç™»å…¥é é¢</a>
            <a href="http://fake-bank.com">è™›å‡éŠ€è¡Œç¶²ç«™</a>
            <a href="http://paypal-security.com">ä»¿å†’PayPal</a>
            <a href="http://amazon-verify.com">ä»¿å†’Amazon</a>
            <a href="http://microsoft-update.com">ä»¿å†’Microsoft</a><br><br>

            <strong>å°æ¯” - å®‰å…¨é€£çµï¼š</strong><br>
            <a href="https://www.google.com" style="background: #e8f5e8;">HTTPSå®‰å…¨é€£çµ</a>
        </div>
        <p><em>é æœŸæª¢æ¸¬ï¼š5å€‹ä¸å®‰å…¨é€£çµï¼Œä½†ç³»çµ±æœ€å¤šè¨ˆç®—+15åˆ†é¢¨éšª</em></p>
    </div>

    <div class="test-section medium-risk">
        <h2>ğŸŒ å¯ç–‘ç¶²åŸŸç‰¹å¾µæ¸¬è©¦</h2>
        <p><strong>ç›®å‰æ¸¬è©¦ç’°å¢ƒï¼š</strong></p>
        <div class="test-results">
            <p>ğŸŒ <strong>ç›®å‰ç¶²åŸŸï¼š</strong> <span id="current-domain"></span></p>
            <p>ğŸ” <strong>å”å®šï¼š</strong> <span id="current-protocol"></span></p>
            <p>ğŸ“ <strong>å®Œæ•´URLï¼š</strong> <span id="current-url"></span></p>
        </div>
        <p><strong>å¯ç–‘ç¶²åŸŸç¯„ä¾‹ï¼š</strong></p>
        <ul>
            <li>suspicious-fake-bank-login-site.com (éå¤šé€£å­—è™Ÿ)</li>
            <li>paypal-security-update-center.com (ä»¿å†’çŸ¥åå“ç‰Œ)</li>
            <li>192.168.1.100 (ä½¿ç”¨IPä½å€)</li>
        </ul>
        <p><em>é æœŸæª¢æ¸¬ï¼šå¦‚æœç¶²åŸŸåŒ…å«éå¤šé€£å­—è™Ÿæœƒè¢«æª¢æ¸¬ç‚º+10åˆ†é¢¨éšª</em></p>
    </div>

    <div class="test-section low-risk">
        <h2>ğŸ¯ å½ˆçª—è­¦å‘Šé—œéµè©æ¸¬è©¦</h2>
        <p><strong>åŒ…å«å½ˆçª—å’Œæƒ¡æ„è»Ÿé«”ç›¸é—œçš„è­¦å‘Šè©å½™ï¼š</strong></p>
        <div style="background: white; padding: 15px; border-radius: 5px; border: 2px dashed #007bff;">
            <p>ğŸš¨ ç³»çµ±æª¢æ¸¬åˆ° <strong>alert</strong> è¨Šæ¯</p>
            <p>âš ï¸ ç™¼ç¾å®‰å…¨ <strong>warning</strong> ä¿¡è™Ÿ</p>
            <p>âŒ æª¢æ¸¬åˆ°ç³»çµ± <strong>error</strong> ç‹€æ…‹</p>
            <p>ğŸ¦  ç™¼ç¾å¯èƒ½çš„ <strong>virus</strong> å¨è„…</p>
            <p>ğŸ”’ æª¢æ¸¬åˆ° <strong>malware</strong> æƒ¡æ„æ´»å‹•</p>
        </div>
        <p><em>é æœŸæª¢æ¸¬ï¼š5å€‹å½ˆçª—é—œéµè© Ã— 8åˆ† = +40åˆ†é¢¨éšª</em></p>
    </div>

    <div class="test-section safe">
        <h2>ğŸ“Š æ¸¬è©¦çµæœèªªæ˜</h2>
        <div class="score-display score-high" id="risk-score-display">
            é¢¨éšªåˆ†æ•¸è¨ˆç®—ä¸­...
        </div>

        <h3>ğŸ¯ é æœŸæª¢æ¸¬çµæœç¸½è¨ˆï¼š</h3>
        <div class="test-results">
            <ul>
                <li><strong>HTTPå”å®šï¼š</strong> +20åˆ†</li>
                <li><strong>HTTPä¸Šçš„å¯†ç¢¼æ¬„ä½ï¼š</strong> +25åˆ†</li>
                <li><strong>å¯ç–‘é—œéµè©ï¼ˆ7å€‹ï¼‰ï¼š</strong> +35åˆ†</li>
                <li><strong>ä¸å®‰å…¨é€£çµï¼š</strong> +15åˆ†ï¼ˆä¸Šé™ï¼‰</li>
                <li><strong>å½ˆçª—é—œéµè©ï¼ˆ5å€‹ï¼‰ï¼š</strong> +40åˆ†</li>
                <li><strong>é è¨ˆç¸½åˆ†ï¼š</strong> <strong>135åˆ† â†’ 100åˆ†ï¼ˆç³»çµ±ä¸Šé™ï¼‰</strong></li>
            </ul>
        </div>

        <h3>ğŸ§ª è©³ç´°æ¸¬è©¦æ­¥é©Ÿï¼š</h3>
        <ol>
            <li>âœ… <strong>ç¢ºä¿å¤–æ›å·²å®‰è£</strong>ï¼šæª¢æŸ¥Chromeæ“´å……åŠŸèƒ½ç®¡ç†é é¢</li>
            <li>ğŸ”„ <strong>é‡æ–°æ•´ç†æ­¤é é¢</strong>ï¼šè§€å¯Ÿæ˜¯å¦å½ˆå‡ºè‡ªå‹•å®‰å…¨è­¦å‘Š</li>
            <li>ğŸ–±ï¸ <strong>é»é¸å¤–æ›åœ–ç¤º</strong>ï¼šæŸ¥çœ‹è©³ç´°çš„é¢¨éšªè©•åˆ†å ±å‘Š</li>
            <li>ğŸ‘€ <strong>æª¢æŸ¥é€£çµæ¨™è¨˜</strong>ï¼šHTTPé€£çµæ‡‰è©²è¢«æ¨™è¨˜ç‚ºç´…è‰²é‚Šæ¡†</li>
            <li>ğŸ” <strong>æŸ¥çœ‹æ§åˆ¶å°</strong>ï¼šæŒ‰F12æŸ¥çœ‹æª¢æ¸¬è¨˜éŒ„</li>
        </ol>

        <h3>ğŸ›ï¸ æ‰‹å‹•æ¸¬è©¦æŒ‰éˆ•ï¼š</h3>
        <button onclick="manualTest()" class="danger-btn">ğŸ” æ‰‹å‹•è§¸ç™¼æª¢æ¸¬</button>
        <button onclick="showConsoleLog()">ğŸ“ é¡¯ç¤ºæª¢æ¸¬è¨˜éŒ„</button>
        <button onclick="checkExtensionStatus()">ğŸ”Œ æª¢æŸ¥å¤–æ›ç‹€æ…‹</button>
    </div>

    <div class="test-section">
        <h2>ğŸ› ï¸ æ•…éšœæ’é™¤æŒ‡å—</h2>
        <div class="test-results">
            <h4>å¦‚æœæ²’æœ‰çœ‹åˆ°è­¦å‘Šå½ˆçª—ï¼š</h4>
            <ul>
                <li>ç¢ºèªå¤–æ›å·²æ­£ç¢ºå®‰è£ä¸¦å•Ÿç”¨</li>
                <li>æª¢æŸ¥ç€è¦½å™¨æ§åˆ¶å°æ˜¯å¦æœ‰éŒ¯èª¤è¨Šæ¯</li>
                <li>å˜—è©¦é‡æ–°æ•´ç†é é¢</li>
                <li>ç¢ºèªæ‚¨ä½¿ç”¨çš„æ˜¯HTTPå”å®šå­˜å–æœ¬é é¢</li>
            </ul>

            <h4>å¦‚æœé¢¨éšªåˆ†æ•¸ä¸æ­£ç¢ºï¼š</h4>
            <ul>
                <li>æª¢æŸ¥content.jsä¸­çš„æª¢æ¸¬é‚è¼¯</li>
                <li>ç¢ºèªæ‰€æœ‰æª¢æ¸¬åŠŸèƒ½éƒ½æ­£å¸¸é‹ä½œ</li>
                <li>æŸ¥çœ‹æ§åˆ¶å°è¼¸å‡ºçš„è©³ç´°è³‡è¨Š</li>
            </ul>
        </div>
    </div>

    <script>
        // é¡¯ç¤ºç›®å‰é é¢è³‡è¨Š
        document.getElementById('current-domain').textContent = window.location.hostname;
        document.getElementById('current-protocol').textContent = window.location.protocol;
        document.getElementById('current-url').textContent = window.location.href;

        // æ›´æ–°é¢¨éšªåˆ†æ•¸é¡¯ç¤º
        function updateRiskScoreDisplay(score) {
            const display = document.getElementById('risk-score-display');
            display.textContent = `ç›®å‰é¢¨éšªåˆ†æ•¸: ${score}/100`;

            if (score >= 70) {
                display.className = 'score-display score-high';
            } else if (score >= 30) {
                display.className = 'score-display score-medium';
            } else {
                display.className = 'score-display score-low';
            }
        }

        // æ‰‹å‹•æ¸¬è©¦åŠŸèƒ½
        function manualTest() {
            console.log('ğŸ” é–‹å§‹æ‰‹å‹•æª¢æ¸¬æ¸¬è©¦...');

            // æ¨¡æ“¬æª¢æ¸¬é‚è¼¯ï¼ˆç”¨æ–¼å±•ç¤ºï¼‰
            let simulatedScore = 0;
            const risks = [];

            // HTTPå”å®šæª¢æ¸¬
            if (window.location.protocol !== "https:") {
                simulatedScore += 20;
                risks.push("ä½¿ç”¨ä¸å®‰å…¨çš„HTTPé€£ç·š");
            }

            // å¯†ç¢¼æ¬„ä½æª¢æ¸¬
            const passwordFields = document.querySelectorAll('input[type="password"]');
            if (passwordFields.length > 0 && window.location.protocol !== "https:") {
                simulatedScore += 25;
                risks.push("åœ¨ä¸å®‰å…¨é€£ç·šä¸Šè¦æ±‚å¯†ç¢¼");
            }

            // å¯ç–‘é—œéµè©æª¢æ¸¬
            const suspiciousKeywords = ['urgent', 'verify', 'suspended', 'click here', 'act now', 'limited time', 'winner', 'congratulations'];
            const pageText = document.body.innerText.toLowerCase();
            suspiciousKeywords.forEach(keyword => {
                if (pageText.includes(keyword)) {
                    simulatedScore += 5;
                    risks.push(`åŒ…å«å¯ç–‘é—œéµå­—: ${keyword}`);
                }
            });

            updateRiskScoreDisplay(Math.min(simulatedScore, 100));

            alert(`æ‰‹å‹•æª¢æ¸¬å®Œæˆï¼\né¢¨éšªåˆ†æ•¸: ${Math.min(simulatedScore, 100)}/100\næª¢æ¸¬åˆ°çš„é¢¨éšª:\n${risks.join('\n')}`);
        }

        // é¡¯ç¤ºæ§åˆ¶å°è¨˜éŒ„
        function showConsoleLog() {
            console.log('ğŸ“‹ ç›®å‰é é¢æª¢æ¸¬ç‹€æ…‹:');
            console.log('- å”å®š:', window.location.protocol);
            console.log('- ç¶²åŸŸ:', window.location.hostname);
            console.log('- å¯†ç¢¼æ¬„ä½æ•¸é‡:', document.querySelectorAll('input[type="password"]').length);
            console.log('- HTTPé€£çµæ•¸é‡:', document.querySelectorAll('a[href^="http:"]').length);

            alert('æª¢æ¸¬è³‡è¨Šå·²è¼¸å‡ºåˆ°æ§åˆ¶å°ï¼Œè«‹æŒ‰F12æŸ¥çœ‹è©³ç´°è¨˜éŒ„');
        }

        // æª¢æŸ¥æ“´å……åŠŸèƒ½ç‹€æ…‹
        function checkExtensionStatus() {
            if (typeof chrome !== 'undefined' && chrome.runtime) {
                alert('âœ… Chromeæ“´å……åŠŸèƒ½APIå¯ç”¨ï¼Œå¤–æ›æ‡‰è©²èƒ½æ­£å¸¸é‹ä½œ');
            } else {
                alert('âŒ ç„¡æ³•æª¢æ¸¬åˆ°Chromeæ“´å……åŠŸèƒ½APIï¼Œè«‹ç¢ºèªå¤–æ›å·²æ­£ç¢ºå®‰è£');
            }
        }

        // é é¢è¼‰å…¥å®Œæˆå¾Œçš„åˆå§‹åŒ–
        window.addEventListener("load", function() {
            console.log('ğŸš€ æ¸¬è©¦é é¢è¼‰å…¥å®Œæˆ');
            console.log('ğŸ“Š é é¢åŒ…å«ä»¥ä¸‹æ¸¬è©¦å…ƒç´ :');
            console.log('- å¯†ç¢¼æ¬„ä½:', document.querySelectorAll('input[type="password"]').length, 'å€‹');
            console.log('- HTTPé€£çµ:', document.querySelectorAll('a[href^="http:"]').length, 'å€‹');
            console.log('- ç¸½é€£çµæ•¸:', document.querySelectorAll('a').length, 'å€‹');

            // æ¨¡æ“¬åˆå§‹é¢¨éšªåˆ†æ•¸
            setTimeout(() => {
                updateRiskScoreDisplay(95); // é æœŸçš„é«˜é¢¨éšªåˆ†æ•¸
            }, 2000);
        });

        // ç›£è½å¤–æ›è¨Šæ¯ï¼ˆå¦‚æœæœ‰çš„è©±ï¼‰
        if (typeof chrome !== 'undefined' && chrome.runtime) {
            chrome.runtime.onMessage.addListener((request, sender, sendResponse) => {
                console.log('æ”¶åˆ°ä¾†è‡ªå¤–æ›çš„è¨Šæ¯:', request);
            });
        }
    </script>
</body>
</html>
